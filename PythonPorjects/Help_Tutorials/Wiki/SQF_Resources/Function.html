<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Function - VBS Scripting Reference</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="1513356">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">SQF</span>
                    <img class="space-logo" src="SQF.png" />
                </h1>
                <a href="VBS_Scripting_Reference.html" class="ht-space-link">
                    <h2>VBS Scripting Reference</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=1508342"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="VBS_Scripting_Reference.html">VBS Scripting Reference</a></li>
                                                                                     <li><a href="Scripting_References.html">Scripting References</a></li>
                                                            </ul>
</div>            <h1 id="src-1508342"> <span>Function</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

<p   
>A <strong class=" ">function</strong> is a piece of code which performs a specific task and is relatively independent of the remaining code. They often accept input parameters and sometimes return values back to the <a   href="Script_-_File.html">Script (File)</a> that called them.</p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-1508342_Function-Usage">Usage</a></p>
</li><li class=" "><p   
><a   href="#src-1508342_Function-Syntax">Syntax</a></p>
</li><li class=" "><p   
><a   href="#src-1508342_Function-Execution">Execution</a></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-1508342_Function-Call">Call</a></p>
</li><li class=" "><p   
><a   href="#src-1508342_safe-id-RnVuY3Rpb24tU3Bhd24vZXhlY1ZN">Spawn/execVM</a></p>
</li></ul></li><li class=" "><p   
><a   href="#src-1508342_Function-ReturnValue">Return Value</a></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-1508342_Function-Call.1">Call</a></p>
</li><li class=" "><p   
><a   href="#src-1508342_safe-id-RnVuY3Rpb24tU3Bhd24vRXhlY1ZN">Spawn/ExecVM</a></p>
</li></ul></li><li class=" "><p   
><a   href="#src-1508342_Function-Examples">Examples</a></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-1508342_safe-id-RnVuY3Rpb24tRXhhbXBsZTE6bWF4LnNxZg">Example 1: max.sqf</a></p>
</li><li class=" "><p   
><a   href="#src-1508342_safe-id-RnVuY3Rpb24tRXhhbXBsZTI6aW5mYW50cnlTYWZlLnNxZg">Example 2: infantrySafe.sqf</a></p>
</li><li class=" "><p   
><a   href="#src-1508342_safe-id-RnVuY3Rpb24tRXhhbXBsZTM6SW5saW5lRnVuY3Rpb24">Example 3: Inline Function</a></p>
</li></ul></li><li class=" "><p   
><a   href="#src-1508342_Function-Seealso">See also</a></p>
</li></ul>    <div class="section section-1" id="src-1508342_Function-Usage">
        <h1 class="heading "><span> Usage </span></h1>
<p   
>Functions should be used for any processes where the <strong class=" ">result</strong> or <strong class=" ">calculation</strong> done in the function is important. This result or calculation should be made in the <strong class=" ">least time possible</strong>. They are unlike <a   href="Script_-_File.html">Script (File)</a>, where <i class=" ">timing</i> is important.</p>
<p   
>Functions can also be used to <strong class=" ">reuse code</strong>. You can write some code once in the function and then include it in many different scripts. When the code is updated, it is updated for all scripts. When you only copy and paste the code to the other scripts, you have to update every script on any change.</p>
    </div>
    <div class="section section-1" id="src-1508342_Function-Syntax">
        <h1 class="heading "><span> Syntax </span></h1>
<p   
>Functions are strictly limited to <a   href="SQF_Syntax.html">SQF Syntax</a>.</p>
    </div>
    <div class="section section-1" id="src-1508342_Function-Execution">
        <h1 class="heading "><span> Execution </span></h1>
<img  class="confluence-embedded-image"  src="images/download/attachments/1507348/Function_Execution-version-2-modificationdate-1505466853437-api-v2.png" alt="images/download/attachments/1507348/Function_Execution-version-2-modificationdate-1505466853437-api-v2.png"   />
    <p   
>Function Execution Diagram<br/><br/><strong class=" ">Executing Instance:</strong> <a   href="Script_-_File.html">Script (File)</a>, function or game engine</p>
<p   
>Functions can be executed from several points in the game:</p>
<ul class=" "><li class=" "><p   
>Other <a   href="Script_-_File.html">Script (File)</a></p>
</li><li class=" "><p   
>Other functions</p>
</li><li class=" "><p   
>Scripting lines in the 2D Mission Editor (see VBS3 Editor Overview in the VBS3 Editor Manual).</p>
</li><li class=" "><p   
>Event Handlers in addon config files</p>
</li></ul><p   
>Functions are first loaded as <a   href="String.html">String</a> from a file via <a   href="preprocessFile.html">preprocessFile</a> or <a   href="loadFile.html">loadFile</a>. They are then executed via the <a   href="call.html">call</a> or <a   href="spawn.html">spawn</a> command. The loaded <a   href="String.html">String</a> needs to be <a   href="compile.html">compile</a> in order to convert it to <a   href="Code.html">Code</a>, which is required for <a   href="call.html">call</a> or <a   href="spawn.html">spawn</a>.</p>
    <div class="section section-2" id="src-1508342_Function-Call">
        <h2 class="heading "><span> Call </span></h2>
<p   
>Example:</p>
<pre class=" ">myFunction1 = <a   href="compile.html">compile</a> <a   href="loadFile.html">loadFile</a> &quot;myFunction1.sqf&quot;;<br/>myFunction2 = <a   href="compile.html">compile</a> <a   href="preprocessFile.html">preprocessFile</a> &quot;myFunction2.sqf&quot;;<br/><br/>_result1 = <a   href="call.html">call</a> myFunction1;<br/>_result2 = [1, 2] <a   href="call.html">call</a> myFunction2;</pre><p   
>Functions executed using <a   href="call.html">call</a> are run <i class=" ">within</i> the executing instance, which waits for the result of the function. Unlike scripts, functions halt all other game engine processes until the function has completed its instructions. This means functions run faster than scripts, and the result of functions is immediate and unambiguous. It can also mean that if a function takes too long to run it will have an adverse effect on game play - large functions or CPU intensive functions can cause the game to seize up until it completes. When creating a functions you want the function to be short and sweet to achieve the best results.</p>
<p   
><strong class=" ">Note:</strong> You can still use the special variables and commands of <a   href="Script_-_File.html">Script (File)</a> in functions.</p>
    </div>
    <div class="section section-2" id="src-1508342_safe-id-RnVuY3Rpb24tU3Bhd24vZXhlY1ZN">
        <h2 class="heading "><span> Spawn/execVM </span></h2>
<p   
>Functions may also be executed using <a   href="spawn.html">spawn</a> or <a   href="execVM.html">execVM</a>, but then the function result is not accessible, making it behave more like a procedure. Spawned functions will run asynchronously or <i class=" ">alongside</i> the executing instance. This helps prevent large CPU intensive functions from seizing up the game.</p>
<p   
>Example:</p>
<pre class=" ">myFunction1 = <a   href="compile.html">compile</a> <a   href="loadFile.html">loadFile</a> &quot;myFunction1.sqf&quot;;<br/>myFunction2 = <a   href="compile.html">compile</a> <a   href="preprocessFile.html">preprocessFile</a> &quot;myFunction2.sqf&quot;;<br/><a   href="spawn.html">spawn</a> myFunction1;<br/>[1, 2] <a   href="spawn.html">spawn</a> myFunction2;</pre>    </div>
    </div>
    <div class="section section-1" id="src-1508342_Function-ReturnValue">
        <h1 class="heading "><span> Return Value </span></h1>
    <div class="section section-2" id="src-1508342_Function-Call.1">
        <h2 class="heading "><span> Call </span></h2>
<p   
>A <i class=" ">called</i> functions will return the result of the last <a   href="Expression.html">Expression</a> executed.<br/>Whether that expression is followed by a semicolon or not has no effect on what is returned.</p>
<p   
>return.sqf</p>
<pre class=" ">STATEMENT 1;<br/>STATEMENT 2;<br/>RETURN_VALUE</pre><p   
>test.sqf</p>
<pre class=" ">value = <a   href="call.html">call</a> <a   href="compile.html">compile</a> <a   href="preprocessFile.html">preprocessFile</a> &quot;return.sqf&quot;;<br/>// value is now RETURN_VALUE<br/><a   href="call.html">call</a> <a   href="compile.html">compile</a> <a   href="preprocessFile.html">preprocessFile</a> &quot;return.sqf&quot;;<br/>// valid, but RETURN_VALUE is not saved anywhere</pre><p   
>Locally defined function, returning a string that is determined within an if...then condition:</p>
<pre class=" ">_func = {<br/>  _val = _this select 0;<br/>  // as this is the last command in the function, its result will be returned<br/>  if (_val&gt;5) then {<br/>    &quot;bigger&quot;<br/>  } else {<br/>    &quot;smaller&quot;<br/>  };<br/>};<br/><br/>player sidechat ([1] call _func); // outputs &quot;smaller&quot;<br/>player sidechat ([7] call _func); // outputs &quot;bigger&quot;</pre>    </div>
    <div class="section section-2" id="src-1508342_safe-id-RnVuY3Rpb24tU3Bhd24vRXhlY1ZN">
        <h2 class="heading "><span> Spawn/ExecVM </span></h2>
<p   
>Spawned functions just return their handle, to be used with <a   href="scriptDone.html">scriptDone</a> or <a   href="terminate.html">terminate</a>.</p>
    </div>
    </div>
    <div class="section section-1" id="src-1508342_Function-Examples">
        <h1 class="heading "><span> Examples </span></h1>
    <div class="section section-2" id="src-1508342_safe-id-RnVuY3Rpb24tRXhhbXBsZTE6bWF4LnNxZg">
        <h2 class="heading "><span> Example 1: max.sqf </span></h2>
<p   
>In this example the function returns maximum of first and second argument.</p>
<p   
>max.sqf</p>
<pre class=" "><a   href="comment.html">comment</a> &quot;Return maximum of first and second argument&quot;;<a   href="private.html">private</a> [&quot;_a&quot;,&quot;_b&quot;];<br/>_a = _this <a   href="select.html">select</a> 0;<br/>_b = _this <a   href="select.html">select</a> 1;<a   href="if...then...else.html">if</a> (_a&gt;_b) <a   href="if...then...else.html">then</a> {_a} <a   href="if...then...else.html">else</a> {_b}</pre><p   
>executing script:</p>
<pre class=" ">fMax = <a   href="compile.html">compile</a> <a   href="preprocessFile.html">preprocessFile</a> &quot;max.sqf&quot;;<br/>maxValue = [3,5] <a   href="call.html">call</a> fMax;<br/><br/>// maxValue is now 5</pre>    </div>
    <div class="section section-2" id="src-1508342_safe-id-RnVuY3Rpb24tRXhhbXBsZTI6aW5mYW50cnlTYWZlLnNxZg">
        <h2 class="heading "><span> Example 2: infantrySafe.sqf </span></h2>
<p   
>In this example the function returns no value and switches all units to safe mode.</p>
<pre class=" "><a   href="comment.html">comment</a> &quot;Switch all infantry units to safe mode&quot;;<br/>{<a   href="if...then...else.html">if</a> (<a   href="vehicle.html">vehicle</a> _x == _x) <a   href="if...then...else.html">then</a>    {<br/>        _x <a   href="setBehaviour.html">setBehaviour</a> &quot;safe&quot;<br/>    }<br/>} <a   href="forEach.html">forEach</a> _this</pre>    </div>
    <div class="section section-2" id="src-1508342_safe-id-RnVuY3Rpb24tRXhhbXBsZTM6SW5saW5lRnVuY3Rpb24">
        <h2 class="heading "><span> Example 3: Inline Function </span></h2>
<p   
>An inline-function can be created in any script:</p>
<pre class=" ">FNC_sayhello = {<a   href="hint.html">hint</a> <a   href="format.html">format</a>[&quot;hello %1&quot;,_this]};</pre><p   
>This function can then be called (in other scripts, functions, unit&#39;s init lines, trigger activation fields, etc.) via:</p>
<pre class=" "><a   href="name.html">name</a> <a   href="player.html">player</a> <a   href="call.html">call</a> FNC_sayhello</pre><p   
>Notice that there are <strong class=" ">no</strong> brackets around the functions arguments which precede the call command.<br/>In case the function doesn&#39;t require any arguments you can just call the function.</p>
<pre class=" "><a   href="call.html">call</a> FNC_helloall</pre>    </div>
    </div>
    <div class="section section-1" id="src-1508342_Function-Seealso">
        <h1 class="heading "><span> See also </span></h1>
<ul class=" "><li class=" "><p   
><a   href="Script_-_File.html">Script (File)</a></p>
</li><li class=" "><p   
><a   href="SQF_Syntax.html">SQF Syntax</a></p>
</li><li class=" "><p   
><a   href="call.html">call</a></p>
</li></ul>    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="Fonts.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Fonts</span>
        </a>
                <a href="Game_Logic.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Game Logic</span>
        </a>
    </nav>    
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
